(window.webpackJsonpcheckers=window.webpackJsonpcheckers||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/crown.87581c70.png"},,,function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(4),i=n.n(a),c=(n(16),n(17),n(2)),l=n(1),s=n(5),u=n(6),d=n(9),p=n(7),b=n(10),v=n(8),m=n.n(v);var f=function(e){return r.a.createElement("div",{className:"circle "+e.piece.player,onClick:function(t){return e.setMovables(e.piece,t)}},e.piece.crowned?r.a.createElement("img",{className:"crown",src:m.a,alt:"crown"}):"")};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var g=function(e){return r.a.createElement("div",{className:"box "+e.bg+(e.movable?" movable":""),onClick:function(){return e.move(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.position))}},e.piece?r.a.createElement(f,{setMovables:function(t,n){n.stopPropagation(),e.setMovables(t)},piece:e.piece}):"")};n(18);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={count:{one:12,two:12},killed:!1,turn:"one",selectedPiece:null,movablePositions:[],board:[],winner:null},x=function(e){function t(){var e;Object(s.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).resetBoard=function(){var t=e.initBoard(e.populateBoard());e.setState(h({},y,{board:t}))},e.toggleTurn=function(){return e.setState({turn:"one"===e.state.turn?"two":"one",killed:!1},(function(){return e.clearMovables()}))},e.populateBoard=function(){for(var e=[],t=8,n=8,o="black",r=0;r<t;r++){for(var a=[],i=0;i<n;i++)0!==i&&(o="black"===o?"white":"black"),a[i]={piece:null,bg:o};e.push(a)}return e},e.selectPiece=function(t){return e.setState({selectedPiece:t})},e.hasPiece=function(t){return null!==e.state.board[t.rowIndex][t.colIndex].piece},e.hasTurn=function(t){return t===e.state.turn},e.getPieceByPosition=function(t){return e.state.board[t.rowIndex][t.colIndex].piece},e.clearMovables=function(){var t=Object(c.a)(e.state.board);e.state.movablePositions.map((function(e){return t[e.rowIndex][e.colIndex].movable=!1})),e.setState({board:t})},e.move=function(t){var n=Object(c.a)(e.state.board),o=n[t.rowIndex][t.colIndex];if(o.movable){var r,a=h({},e.state.selectedPiece),i=n[a.position.rowIndex][a.position.colIndex],l=e.getPieceBetween(a.position,t),s=h({},e.state.count);l&&("one"===l.player?(s.one--,r={count:s,winner:0===s.one?"two":null,killed:!e.state.killed}):(s.two--,r={count:s,winner:0===s.two?"two":null,killed:!e.state.killed}),n[l.position.rowIndex][l.position.colIndex].piece=null),a.position=t,o.piece=a,o.movable=!1,i.piece=null;var u="one"===a.player?7:0;a.crowned=a.position.rowIndex===u||a.crowned,e.setState(h({selectedPiece:a,board:n},r),(function(){e.clearMovables(),e.state.killed?e.setState({killed:!e.state.killed},(function(){e.getMovablePositionsForPiece(a).length?e.setMovables(a):e.toggleTurn()})):e.toggleTurn()}))}else console.log("Not movable")},e.getNextPositionBy=function(t,n,o){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c=function(e){return 7-e},l=a?0:7,s=a?7:0,u=r?7:0;n="one"===t?n:c(n);var d=null;if("one"===t?o!==l&&n!==u&&(d={rowIndex:r?n+1:n-1,colIndex:a?o-1:o+1}):o!==s&&n!==u&&(d={rowIndex:c(r?n+1:n-1),colIndex:a?o+1:o-1}),d){var p=e.getPieceByPosition(d);if(p){if(t===p.player)return null;if(i&&(d=e.getNextPositionBy(t,d.rowIndex,d.colIndex,r,a,!1))&&e.getPieceByPosition(d))return null}}return d},e.setMovables=function(t){if(e.hasTurn(t.player)){e.selectPiece(t);var n=e.getMovablePositionsForPiece(t);if(0!==n.length){e.clearMovables();var o=Object(c.a)(e.state.board);n.map((function(e){return o[e.rowIndex][e.colIndex].movable=!0})),e.setState({movablePositions:n,board:o})}else console.log("The piece is not movable")}else console.log("This is not your turn!")},e.getMovablePositionsForPiece=function(t){var n=[],o=t.position.colIndex,r=t.position.rowIndex;return n.push(e.getNextPositionBy(t.player,r,o,!0,!0)),n.push(e.getNextPositionBy(t.player,r,o,!0,!1)),t.crowned&&(n.push(e.getNextPositionBy(t.player,r,o,!1,!0)),n.push(e.getNextPositionBy(t.player,r,o,!1,!1))),n.filter((function(e){return null!==e}))},e.getPieceBetween=function(t,n){var o=(t.rowIndex+n.rowIndex)/2;if(!Number.isInteger(o))return null;var r=(t.colIndex+n.colIndex)/2;return e.getPieceByPosition({rowIndex:o,colIndex:r})},e.initBoard=function(e){var t={one:[0,1,2],two:[5,6,7]};return e=e.map((function(e,n){return e.map((function(e,o){var r=null;return"black"===e.bg&&(t.one.includes(n)&&(r="one"),t.two.includes(n)&&(r="two")),e=h({},e,{piece:r?{player:r,crowned:!1,position:{rowIndex:n,colIndex:o}}:null,movable:!1})}))}))};var n=e.initBoard(e.populateBoard());return e.state=h({},y,{board:n}),e}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"Board"},r.a.createElement("h1",null,"Twisker Checkers Game!"),r.a.createElement("div",{className:"board-wrapper"},r.a.createElement("div",{className:"checkers-board"},this.state.board.map((function(t,n){return r.a.createElement("div",{className:"row",key:n},t.map((function(t,o){return r.a.createElement(g,Object.assign({position:{rowIndex:n,colIndex:o},key:""+n+o,setMovables:e.setMovables,move:e.move},t))})))})))),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"currentPlayer"},r.a.createElement("strong",null,"Current Player:"),r.a.createElement("span",{className:"circle "+this.state.turn})),r.a.createElement("div",{className:"pieceCount"},r.a.createElement("span",{className:"circle one"})," has\xa0",r.a.createElement("strong",null,this.state.count.one)," pieces left"),r.a.createElement("div",{className:"pieceCount"},r.a.createElement("span",{className:"circle two"})," has\xa0",r.a.createElement("strong",null,this.state.count.two)," pieces left"),r.a.createElement("div",{className:"winner"},"Winner: ",this.state.winner?r.a.createElement("span",{className:"circle "+this.state.winner}):"N/A"),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.toggleTurn},"Toggle Turn"),r.a.createElement("button",{onClick:this.resetBoard},"Reset Board"))))}}]),t}(o.Component);var O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[11,1,2]]]);
//# sourceMappingURL=main.4a6bacf4.chunk.js.map